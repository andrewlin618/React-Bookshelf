{"ast":null,"code":"import _classCallCheck from\"/Users/andrewlin/projects/react-google-books/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/andrewlin/projects/react-google-books/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/andrewlin/projects/react-google-books/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/andrewlin/projects/react-google-books/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/andrewlin/projects/react-google-books/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import axios from\"axios\";import API from\"../../utils/API\";import Nav from\"../../components/Nav\";import Jumbotron from\"../../components/Jumbotron\";import Container from\"../../components/Container\";import Book from\"../../components/Book\";import{BtnSubmit,BtnSave}from\"../../components/Button\";import'./style.css';var MAXRESULTS=10;// import bookNotPictured from \"../../images/bookNotPictured.jpg\"\n// const test = {\n//     authors: [\"Suzanne Collins\"],\n//     description: \"Set in a dark vision of the near future, a terrifying reality TV show is taking place. Twelve boys and twelve girls are forced to appear in a live event called The Hunger Games. There is only one rule: kill or be killed. When sixteen-year-old Katniss Everdeen steps forward to take her younger sister's place in the games, she sees it as a death sentence. But Katniss has been close to death before. For her, survival is second nature.\",\n//     image: \"http://books.google.com/books/content?id=sazytgAACAAJ&printsec=frontcover&img=1&zoom=1&source=gbs_api\",\n//     link: \"http://books.google.com/books?id=sazytgAACAAJ&dq=title:The+Hunger+Games&hl=&source=gbs_api\",\n//     title: \"The Hunger Games\"\n// }\nvar SearchPage=/*#__PURE__*/function(_React$Component){_inherits(SearchPage,_React$Component);function SearchPage(){var _getPrototypeOf2;var _this;_classCallCheck(this,SearchPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(SearchPage)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={value:'',toResults:false,results:[],isCollapsed:false,message:''};_this.handleChange=function(event){_this.setState({value:event.target.value});console.log(_this.state.value);};_this.handleSubmit=function(event){event.preventDefault();_this.setState({toResults:true});// const title = this.state.value.trim();\nconsole.log(_this.state.value);axios.get(\"https://www.googleapis.com/books/v1/volumes?q=\"+_this.state.value+'&maxResults='+MAXRESULTS).then(function(res){if(!res.data.items){_this.setState({results:[],message:\"No Books Found...\"});}else{var validBooks=res.data.items.filter(function(result){return result.id&&result.volumeInfo.title&&result.volumeInfo.authors&&result.volumeInfo.categories&&result.volumeInfo.publisher&&result.volumeInfo.publishedDate&&result.volumeInfo.imageLinks&&result.volumeInfo.imageLinks.thumbnail&&result.volumeInfo.infoLink&&result.volumeInfo.description&&result.volumeInfo.previewLink;});_this.setState({results:validBooks,message:''});}}).catch(function(){return _this.setState({results:[],message:\"API Call Failed...\"});});};_this.handleBookSave=function(id){alert(\"Book Shelf Under Construction...\");var book=_this.state.results.find(function(book){return book.id===id;});var bookData={googleId:book.id,title:book.volumeInfo.title,authors:book.volumeInfo.authors,categories:book.volumeInfo.categories,publisher:book.volumeInfo.publisher,publishedDate:book.volumeInfo.publishedDate,image:book.volumeInfo.imageLinks.thumbnail,description:book.volumeInfo.description,link:book.volumeInfo.previewLink};console.log(bookData);API.saveBook(bookData).then(function(){return console.log(\"succeeded!\");}).catch(function(){return alert('stupid!');});};return _this;}_createClass(SearchPage,[{key:\"render\",value:function render(){var _this2=this;if(!this.state.toResults){return React.createElement(\"div\",null,React.createElement(Nav,null),React.createElement(Jumbotron,null),React.createElement(Container,null,React.createElement(\"h4\",{style:{fontWeight:'bold'}},\"BOOK SEARCH\"),React.createElement(\"div\",{className:\"input-group mb-3\"},React.createElement(\"input\",{type:\"text\",className:\"form-control title\",placeholder:\"key words in the title\",\"aria-label\":\"Book's Keyword\",\"aria-describedby\":\"button-addon2\",onChange:this.handleChange}),React.createElement(\"div\",{className:\"input-group-append\"},React.createElement(BtnSubmit,{className:\"btn btn-success search\",type:\"button\",id:\"button-addon2\",onClick:this.handleSubmit},\"SEARCH\")))),React.createElement(\"br\",null));}return React.createElement(\"div\",null,React.createElement(Nav,null),React.createElement(Jumbotron,null),React.createElement(Container,null,React.createElement(\"h4\",{style:{fontWeight:'bold'}},\"BOOK SEARCH\"),React.createElement(\"div\",{className:\"input-group mb-3\"},React.createElement(\"input\",{type:\"text\",className:\"form-control title\",placeholder:\"key words in the title\",\"aria-label\":\"Book's Keyword\",\"aria-describedby\":\"button-addon2\",onChange:this.handleChange}),React.createElement(\"div\",{className:\"input-group-append\"},React.createElement(BtnSubmit,{className:\"btn btn-success search\",type:\"button\",id:\"button-addon2\",onClick:this.handleSubmit},\"SEARCH\")))),React.createElement(\"br\",null),React.createElement(Container,null,React.createElement(\"h4\",{style:{fontWeight:'bold'}},\"SEARCH RESULTS\"),this.state.results.map(function(book){return React.createElement(Book,{key:book.id,googleId:book.id,title:book.volumeInfo.title,authors:book.volumeInfo.authors,categories:book.volumeInfo.categories,publisher:book.volumeInfo.publisher,publishedDate:book.volumeInfo.publishedDate,image:book.volumeInfo.imageLinks.thumbnail,description:book.volumeInfo.description,link:book.volumeInfo.previewLink,isCollapsed:_this2.state.isCollapsed,target:\"_blank\",Buttonaaa:function Buttonaaa(){return React.createElement(BtnSave,{onClick:function onClick(){return _this2.handleBookSave(book.id);},isSaved:false});}});}),React.createElement(\"h2\",{className:\"text-center\"},this.state.message)));}}]);return SearchPage;}(React.Component);;export default SearchPage;","map":{"version":3,"sources":["/Users/andrewlin/projects/react-google-books/client/src/pages/SearchPage/index.js"],"names":["React","axios","API","Nav","Jumbotron","Container","Book","BtnSubmit","BtnSave","MAXRESULTS","SearchPage","state","value","toResults","results","isCollapsed","message","handleChange","event","setState","target","console","log","handleSubmit","preventDefault","get","then","res","data","items","validBooks","filter","result","id","volumeInfo","title","authors","categories","publisher","publishedDate","imageLinks","thumbnail","infoLink","description","previewLink","catch","handleBookSave","alert","book","find","bookData","googleId","image","link","saveBook","fontWeight","map","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport API from \"../../utils/API\";\nimport Nav from \"../../components/Nav\"\nimport Jumbotron from \"../../components/Jumbotron\"\nimport Container from \"../../components/Container\";\nimport Book from \"../../components/Book\";\nimport {BtnSubmit,BtnSave} from \"../../components/Button\"\nimport './style.css';\n\nconst MAXRESULTS = 10;\n// import bookNotPictured from \"../../images/bookNotPictured.jpg\"\n\n// const test = {\n//     authors: [\"Suzanne Collins\"],\n//     description: \"Set in a dark vision of the near future, a terrifying reality TV show is taking place. Twelve boys and twelve girls are forced to appear in a live event called The Hunger Games. There is only one rule: kill or be killed. When sixteen-year-old Katniss Everdeen steps forward to take her younger sister's place in the games, she sees it as a death sentence. But Katniss has been close to death before. For her, survival is second nature.\",\n//     image: \"http://books.google.com/books/content?id=sazytgAACAAJ&printsec=frontcover&img=1&zoom=1&source=gbs_api\",\n//     link: \"http://books.google.com/books?id=sazytgAACAAJ&dq=title:The+Hunger+Games&hl=&source=gbs_api\",\n//     title: \"The Hunger Games\"\n// }\n\nclass SearchPage extends React.Component {\n    state = {\n        value: '',\n        toResults:false,\n        results:[],\n        isCollapsed:false,\n        message:''\n    };\n\n    handleChange = event => {\n        this.setState({value: event.target.value});\n        console.log(this.state.value);\n    }\n\n    handleSubmit = event => {\n        event.preventDefault();\n        this.setState({\n            toResults: true\n        })     \n        // const title = this.state.value.trim();\n        console.log(this.state.value);\n        axios.get(\"https://www.googleapis.com/books/v1/volumes?q=\" + this.state.value + '&maxResults=' + MAXRESULTS)\n        .then(res => {\n            if(!res.data.items){\n                this.setState({\n                    results: [],\n                    message: \"No Books Found...\"\n                })\n            }\n            else{\n                var validBooks = res.data.items.filter( result =>\n                    result.id &&\n                    result.volumeInfo.title &&\n                    result.volumeInfo.authors &&\n                    result.volumeInfo.categories &&\n                    result.volumeInfo.publisher &&\n                    result.volumeInfo.publishedDate &&\n                    result.volumeInfo.imageLinks &&\n                    result.volumeInfo.imageLinks.thumbnail &&\n                    result.volumeInfo.infoLink &&\n                    result.volumeInfo.description &&\n                    result.volumeInfo.previewLink\n                )        \n                this.setState({\n                    results: validBooks,\n                    message:''\n                })          \n            }\n        })\n        .catch(() =>\n            this.setState({\n                results: [],\n                message: \"API Call Failed...\"\n            })\n        );\n    }\n\n    handleBookSave = (id) => {\n        alert(\"Book Shelf Under Construction...\")\n        const book = this.state.results.find(book => book.id === id);\n        const bookData = {\n            googleId:book.id,\n            title:book.volumeInfo.title,\n            authors:book.volumeInfo.authors,\n            categories:book.volumeInfo.categories,\n            publisher:book.volumeInfo.publisher,\n            publishedDate:book.volumeInfo.publishedDate,\n            image:book.volumeInfo.imageLinks.thumbnail,\n            description:book.volumeInfo.description, \n            link:book.volumeInfo.previewLink\n        };\n\n        console.log(bookData)\n        API.saveBook(bookData)\n        .then(() => console.log(\"succeeded!\"))\n        .catch(() => alert('stupid!'))\n\n    };\n\n    render() {\n        if (!this.state.toResults) {\n            return(\n                <div>\n                    <Nav />\n                    <Jumbotron />\n                    <Container>\n                        <h4 style={{fontWeight:'bold'}}>BOOK SEARCH</h4>\n                        <div className=\"input-group mb-3\">\n                            <input type=\"text\" className=\"form-control title\" placeholder=\"key words in the title\" aria-label=\"Book's Keyword\" aria-describedby=\"button-addon2\" onChange={this.handleChange}></input>\n                            <div className=\"input-group-append\">\n                                <BtnSubmit className=\"btn btn-success search\" type=\"button\" id=\"button-addon2\" onClick={this.handleSubmit} >SEARCH</BtnSubmit>\n                            </div>\n                        </div>\n                    </Container>\n                    <br />\n                </div>\n            )\n            \n        }\n\n        return(\n            <div>\n                <Nav />\n                <Jumbotron />\n                <Container>\n                    <h4 style={{fontWeight:'bold'}}>BOOK SEARCH</h4>\n                    <div className=\"input-group mb-3\">\n                        <input type=\"text\" className=\"form-control title\" placeholder=\"key words in the title\" aria-label=\"Book's Keyword\" aria-describedby=\"button-addon2\" onChange={this.handleChange}></input>\n                        <div className=\"input-group-append\">\n                            <BtnSubmit className=\"btn btn-success search\" type=\"button\" id=\"button-addon2\" onClick={this.handleSubmit} >SEARCH</BtnSubmit>\n                        </div>\n                    </div>\n                </Container>\n                <br />\n                    <Container>\n                    <h4 style={{fontWeight:'bold'}}>SEARCH RESULTS</h4>\n                    {this.state.results.map(book => \n                        <Book \n                        key={book.id} \n                        googleId={book.id} \n                        title={book.volumeInfo.title} \n                        authors={book.volumeInfo.authors}\n                        categories={book.volumeInfo.categories} \n                        publisher={book.volumeInfo.publisher}\n                        publishedDate={book.volumeInfo.publishedDate} \n                        image={book.volumeInfo.imageLinks.thumbnail} \n                        description={book.volumeInfo.description}  \n                        link={book.volumeInfo.previewLink} \n                        isCollapsed={this.state.isCollapsed}\n                        target=\"_blank\"\n                        Buttonaaa={()=>(\n                            <BtnSave onClick={() => this.handleBookSave(book.id)} isSaved = {false}></BtnSave>\n                        )}\n                        />\n                    )}\n                    <h2 className=\"text-center\">{this.state.message}</h2>\n                    </Container>\n            </div>\n        )\n    }\n};\n\nexport default SearchPage;\n"]},"metadata":{},"sourceType":"module"}