{"ast":null,"code":"var _jsxFileName = \"/Users/andrewlin/projects/react-google-books/client/src/pages/SearchPage/index.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport API from \"../../utils/API\";\nimport Nav from \"../../components/Nav\";\nimport Jumbotron from \"../../components/Jumbotron\";\nimport Container from \"../../components/Container\";\nimport Book from \"../../components/Book\";\nimport Footer from \"../../components/Footer\";\nimport { BtnSubmit, BtnSave } from \"../../components/Button\";\nimport './style.css';\nconst MAXRESULTS = 30;\n\nclass SearchPage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      value: '',\n      toResults: false,\n      books: [],\n      results: [],\n      isCollapsed: false,\n      message: ''\n    };\n\n    this.openBookshelf = () => {\n      API.getSavedBooks().then(res => {\n        this.setState({\n          books: res.data\n        });\n        console.log('*** Successfully opened the bookshelf! ***');\n        console.log(this.state.books);\n      }).catch(err => console.log(err));\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        value: event.target.value\n      });\n      console.log(this.state.value);\n    };\n\n    this.handleSubmit = () => {\n      this.setState({\n        toResults: true\n      });\n      console.log('Input keyword:' + this.state.value);\n      axios.get(\"https://www.googleapis.com/books/v1/volumes?q=\" + this.state.value + '&maxResults=' + MAXRESULTS).then(res => {\n        if (!res.data.items) {\n          this.setState({\n            results: [],\n            message: \"No Books Found...Try something else.\"\n          });\n        } else {\n          var validBooks = res.data.items.filter(result => result.id && result.volumeInfo.title && result.volumeInfo.authors && result.volumeInfo.categories && result.volumeInfo.publisher && result.volumeInfo.publishedDate && result.volumeInfo.imageLinks && result.volumeInfo.imageLinks.thumbnail && result.volumeInfo.infoLink && result.volumeInfo.description && result.volumeInfo.previewLink);\n          this.setState({\n            results: validBooks,\n            message: ''\n          });\n        }\n\n        console.log('*** Search Results: ***');\n        console.log(this.state.results);\n      }).catch(() => this.setState({\n        results: [],\n        message: 'Please enter some key words.'\n      }));\n    };\n\n    this.handleBookSave = id => {\n      //If the book is not saved, save the book:\n      if (!this.checkSave(id)) {\n        this.saveBook(id);\n      } //If the is saved, delete the book;\n      else {\n          this.deleteBook(id);\n        }\n    };\n\n    this.handleKeyPress = event => {\n      if (event.key === 'Enter') {\n        this.handleSubmit();\n        console.log('enter press here! ');\n      }\n    };\n\n    this.saveBook = id => {\n      alert(\"Saving book to bookshelf……\");\n      const book = this.state.results.find(book => book.id === id);\n      const bookData = {\n        googleId: book.id,\n        title: book.volumeInfo.title,\n        authors: book.volumeInfo.authors,\n        categories: book.volumeInfo.categories,\n        publisher: book.volumeInfo.publisher,\n        publishedDate: book.volumeInfo.publishedDate,\n        image: book.volumeInfo.imageLinks.thumbnail,\n        description: book.volumeInfo.description,\n        link: book.volumeInfo.previewLink\n      };\n      API.saveBook(bookData).then(() => {\n        console.log(\"Successfully saved!\");\n        this.openBookshelf();\n      }).catch(() => alert('Book already exists!'));\n    };\n\n    this.deleteBook = () => {\n      alert('Go to your bookshelf to delete!');\n      this.props.history.push('/saved');\n    };\n\n    this.checkSave = id => {\n      var tem = false;\n      this.state.books.forEach(book => {\n        if (book.googleId === id) {\n          tem = true;\n        }\n      });\n      return tem;\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      toResults: false\n    });\n    this.openBookshelf();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(Container, {\n      header: 'SEARCH',\n      icon: \"search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group my-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control title\",\n      placeholder: \"\",\n      \"aria-label\": \"Book's Keyword\",\n      \"aria-describedby\": \"button-addon2\",\n      onChange: this.handleChange,\n      onKeyPress: this.handleKeyPress,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"input-group-append\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(BtnSubmit, {\n      type: \"button\",\n      id: \"button-addon2\",\n      onClick: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"SEARCH\")))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }), this.state.toResults ? React.createElement(Container, {\n      header: \"SEARCH RESULTS\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, this.state.results.map(book => React.createElement(Book, {\n      key: book.id,\n      googleId: book.id,\n      title: book.volumeInfo.title,\n      authors: book.volumeInfo.authors,\n      categories: book.volumeInfo.categories,\n      publisher: book.volumeInfo.publisher,\n      publishedDate: book.volumeInfo.publishedDate,\n      image: book.volumeInfo.imageLinks.thumbnail,\n      description: book.volumeInfo.description,\n      link: book.volumeInfo.previewLink,\n      isCollapsed: this.state.isCollapsed,\n      target: \"_blank\",\n      Buttonaaa: () => React.createElement(BtnSave, {\n        onClick: () => this.handleBookSave(book.id),\n        isSaved: this.checkSave(book.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    })), React.createElement(\"h5\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, this.state.message)) : React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }));\n  }\n\n}\n\n;\nexport default SearchPage;","map":{"version":3,"sources":["/Users/andrewlin/projects/react-google-books/client/src/pages/SearchPage/index.js"],"names":["React","axios","API","Nav","Jumbotron","Container","Book","Footer","BtnSubmit","BtnSave","MAXRESULTS","SearchPage","Component","state","value","toResults","books","results","isCollapsed","message","openBookshelf","getSavedBooks","then","res","setState","data","console","log","catch","err","handleChange","event","target","handleSubmit","get","items","validBooks","filter","result","id","volumeInfo","title","authors","categories","publisher","publishedDate","imageLinks","thumbnail","infoLink","description","previewLink","handleBookSave","checkSave","saveBook","deleteBook","handleKeyPress","key","alert","book","find","bookData","googleId","image","link","props","history","push","tem","forEach","componentDidMount","render","map"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AACA,OAAOC,GAAP,MAAgB,sBAAhB;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,SAAQC,SAAR,EAAkBC,OAAlB,QAAgC,yBAAhC;AACA,OAAO,aAAP;AAEA,MAAMC,UAAU,GAAG,EAAnB;;AACA,MAAMC,UAAN,SAAyBX,KAAK,CAACY,SAA/B,CAAyC;AAAA;AAAA;AAAA,SACrCC,KADqC,GAC7B;AACJC,MAAAA,KAAK,EAAE,EADH;AAEJC,MAAAA,SAAS,EAAC,KAFN;AAGJC,MAAAA,KAAK,EAAC,EAHF;AAIJC,MAAAA,OAAO,EAAC,EAJJ;AAKJC,MAAAA,WAAW,EAAC,KALR;AAMJC,MAAAA,OAAO,EAAC;AANJ,KAD6B;;AAAA,SAiBrCC,aAjBqC,GAiBrB,MAAM;AAClBlB,MAAAA,GAAG,CAACmB,aAAJ,GACCC,IADD,CACMC,GAAG,IAAI;AACT,aAAKC,QAAL,CAAc;AACVR,UAAAA,KAAK,EAACO,GAAG,CAACE;AADA,SAAd;AAGAC,QAAAA,OAAO,CAACC,GAAR,CAAY,4CAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKd,KAAL,CAAWG,KAAvB;AACH,OAPD,EAQCY,KARD,CAQQC,GAAD,IAASH,OAAO,CAACC,GAAR,CAAYE,GAAZ,CARhB;AASH,KA3BoC;;AAAA,SA6BrCC,YA7BqC,GA6BtBC,KAAK,IAAI;AACpB,WAAKP,QAAL,CAAc;AAACV,QAAAA,KAAK,EAAEiB,KAAK,CAACC,MAAN,CAAalB;AAArB,OAAd;AACAY,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKd,KAAL,CAAWC,KAAvB;AACH,KAhCoC;;AAAA,SAkCrCmB,YAlCqC,GAkCtB,MAAM;AACjB,WAAKT,QAAL,CAAc;AACVT,QAAAA,SAAS,EAAE;AADD,OAAd;AAGAW,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAmB,KAAKd,KAAL,CAAWC,KAA1C;AAEAb,MAAAA,KAAK,CAACiC,GAAN,CAAU,mDAAmD,KAAKrB,KAAL,CAAWC,KAA9D,GAAsE,cAAtE,GAAuFJ,UAAjG,EACCY,IADD,CACMC,GAAG,IAAI;AACT,YAAG,CAACA,GAAG,CAACE,IAAJ,CAASU,KAAb,EAAmB;AACf,eAAKX,QAAL,CAAc;AACVP,YAAAA,OAAO,EAAE,EADC;AAEVE,YAAAA,OAAO,EAAE;AAFC,WAAd;AAIH,SALD,MAMI;AACA,cAAIiB,UAAU,GAAGb,GAAG,CAACE,IAAJ,CAASU,KAAT,CAAeE,MAAf,CAAuBC,MAAM,IAC1CA,MAAM,CAACC,EAAP,IACAD,MAAM,CAACE,UAAP,CAAkBC,KADlB,IAEAH,MAAM,CAACE,UAAP,CAAkBE,OAFlB,IAGAJ,MAAM,CAACE,UAAP,CAAkBG,UAHlB,IAIAL,MAAM,CAACE,UAAP,CAAkBI,SAJlB,IAKAN,MAAM,CAACE,UAAP,CAAkBK,aALlB,IAMAP,MAAM,CAACE,UAAP,CAAkBM,UANlB,IAOAR,MAAM,CAACE,UAAP,CAAkBM,UAAlB,CAA6BC,SAP7B,IAQAT,MAAM,CAACE,UAAP,CAAkBQ,QARlB,IASAV,MAAM,CAACE,UAAP,CAAkBS,WATlB,IAUAX,MAAM,CAACE,UAAP,CAAkBU,WAXL,CAAjB;AAaA,eAAK1B,QAAL,CAAc;AACVP,YAAAA,OAAO,EAAEmB,UADC;AAEVjB,YAAAA,OAAO,EAAC;AAFE,WAAd;AAIH;;AACDO,QAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKd,KAAL,CAAWI,OAAvB;AACH,OA7BD,EA8BCW,KA9BD,CA8BO,MACH,KAAKJ,QAAL,CAAc;AACVP,QAAAA,OAAO,EAAE,EADC;AAEVE,QAAAA,OAAO,EAAE;AAFC,OAAd,CA/BJ;AAoCH,KA5EoC;;AAAA,SA8ErCgC,cA9EqC,GA8EnBZ,EAAD,IAAQ;AACrB;AACA,UAAG,CAAC,KAAKa,SAAL,CAAeb,EAAf,CAAJ,EAAuB;AACnB,aAAKc,QAAL,CAAcd,EAAd;AACH,OAFD,CAGA;AAHA,WAII;AACA,eAAKe,UAAL,CAAgBf,EAAhB;AACH;AACJ,KAvFoC;;AAAA,SAyFrCgB,cAzFqC,GAyFnBxB,KAAD,IAAW;AACxB,UAAGA,KAAK,CAACyB,GAAN,KAAc,OAAjB,EAAyB;AACrB,aAAKvB,YAAL;AACAP,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACH;AACJ,KA9FoC;;AAAA,SAgGrC0B,QAhGqC,GAgGzBd,EAAD,IAAQ;AACfkB,MAAAA,KAAK,CAAC,4BAAD,CAAL;AACA,YAAMC,IAAI,GAAG,KAAK7C,KAAL,CAAWI,OAAX,CAAmB0C,IAAnB,CAAwBD,IAAI,IAAIA,IAAI,CAACnB,EAAL,KAAYA,EAA5C,CAAb;AACA,YAAMqB,QAAQ,GAAG;AACbC,QAAAA,QAAQ,EAACH,IAAI,CAACnB,EADD;AAEbE,QAAAA,KAAK,EAACiB,IAAI,CAAClB,UAAL,CAAgBC,KAFT;AAGbC,QAAAA,OAAO,EAACgB,IAAI,CAAClB,UAAL,CAAgBE,OAHX;AAIbC,QAAAA,UAAU,EAACe,IAAI,CAAClB,UAAL,CAAgBG,UAJd;AAKbC,QAAAA,SAAS,EAACc,IAAI,CAAClB,UAAL,CAAgBI,SALb;AAMbC,QAAAA,aAAa,EAACa,IAAI,CAAClB,UAAL,CAAgBK,aANjB;AAObiB,QAAAA,KAAK,EAACJ,IAAI,CAAClB,UAAL,CAAgBM,UAAhB,CAA2BC,SAPpB;AAQbE,QAAAA,WAAW,EAACS,IAAI,CAAClB,UAAL,CAAgBS,WARf;AASbc,QAAAA,IAAI,EAACL,IAAI,CAAClB,UAAL,CAAgBU;AATR,OAAjB;AAWAhD,MAAAA,GAAG,CAACmD,QAAJ,CAAaO,QAAb,EACCtC,IADD,CACM,MAAM;AACRI,QAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACA,aAAKP,aAAL;AACH,OAJD,EAKCQ,KALD,CAKO,MAAM6B,KAAK,CAAC,sBAAD,CALlB;AAMH,KApHoC;;AAAA,SAsHrCH,UAtHqC,GAsHxB,MAAM;AACfG,MAAAA,KAAK,CAAC,iCAAD,CAAL;AACA,WAAKO,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACH,KAzHoC;;AAAA,SA2HrCd,SA3HqC,GA2HxBb,EAAD,IAAQ;AAChB,UAAI4B,GAAG,GAAG,KAAV;AACA,WAAKtD,KAAL,CAAWG,KAAX,CAAiBoD,OAAjB,CAAyBV,IAAI,IAAI;AAC7B,YAAGA,IAAI,CAACG,QAAL,KAAkBtB,EAArB,EAAwB;AACpB4B,UAAAA,GAAG,GAAG,IAAN;AACH;AACJ,OAJD;AAKA,aAAOA,GAAP;AACH,KAnIoC;AAAA;;AAUrCE,EAAAA,iBAAiB,GAAG;AAChB,SAAK7C,QAAL,CAAc;AACVT,MAAAA,SAAS,EAAC;AADA,KAAd;AAGA,SAAKK,aAAL;AACH;;AAsHDkD,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGI,oBAAC,SAAD;AAAW,MAAA,MAAM,EAAE,QAAnB;AAA8B,MAAA,IAAI,EAAC,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,SAAS,EAAC,oBAA7B;AAAkD,MAAA,WAAW,EAAC,EAA9D;AAAiE,oBAAW,gBAA5E;AAA6F,0BAAiB,eAA9G;AAA8H,MAAA,QAAQ,EAAE,KAAKxC,YAA7I;AAA2J,MAAA,UAAU,EAAE,KAAKyB,cAA5K;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,SAAD;AAAW,MAAA,IAAI,EAAC,QAAhB;AAAyB,MAAA,EAAE,EAAC,eAA5B;AAA4C,MAAA,OAAO,EAAE,KAAKtB,YAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CAFJ,CAFJ,CAHJ,EAYI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZJ,EAaS,KAAKpB,KAAL,CAAWE,SAAX,GAAuB,oBAAC,SAAD;AAAW,MAAA,MAAM,EAAC,gBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACvB,KAAKF,KAAL,CAAWI,OAAX,CAAmBsD,GAAnB,CAAuBb,IAAI,IACxB,oBAAC,IAAD;AACA,MAAA,GAAG,EAAEA,IAAI,CAACnB,EADV;AAEA,MAAA,QAAQ,EAAEmB,IAAI,CAACnB,EAFf;AAGA,MAAA,KAAK,EAAEmB,IAAI,CAAClB,UAAL,CAAgBC,KAHvB;AAIA,MAAA,OAAO,EAAEiB,IAAI,CAAClB,UAAL,CAAgBE,OAJzB;AAKA,MAAA,UAAU,EAAEgB,IAAI,CAAClB,UAAL,CAAgBG,UAL5B;AAMA,MAAA,SAAS,EAAEe,IAAI,CAAClB,UAAL,CAAgBI,SAN3B;AAOA,MAAA,aAAa,EAAEc,IAAI,CAAClB,UAAL,CAAgBK,aAP/B;AAQA,MAAA,KAAK,EAAEa,IAAI,CAAClB,UAAL,CAAgBM,UAAhB,CAA2BC,SARlC;AASA,MAAA,WAAW,EAAEW,IAAI,CAAClB,UAAL,CAAgBS,WAT7B;AAUA,MAAA,IAAI,EAAES,IAAI,CAAClB,UAAL,CAAgBU,WAVtB;AAWA,MAAA,WAAW,EAAE,KAAKrC,KAAL,CAAWK,WAXxB;AAYA,MAAA,MAAM,EAAC,QAZP;AAaA,MAAA,SAAS,EAAE,MACP,oBAAC,OAAD;AAAS,QAAA,OAAO,EAAE,MAAM,KAAKiC,cAAL,CAAoBO,IAAI,CAACnB,EAAzB,CAAxB;AAAsD,QAAA,OAAO,EAAI,KAAKa,SAAL,CAAeM,IAAI,CAACnB,EAApB,CAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAdJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADH,CADuB,EAoBxB;AAAI,MAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6B,KAAK1B,KAAL,CAAWM,OAAxC,CApBwB,CAAvB,GAqBc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlCvB,EAmCQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnCR,EAmCc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnCd,EAmCoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnCpB,EAmC0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnC1B,EAoCQ,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MApCR,CADJ;AAwCH;;AA9KoC;;AA+KxC;AAED,eAAeR,UAAf","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport API from \"../../utils/API\";\nimport Nav from \"../../components/Nav\"\nimport Jumbotron from \"../../components/Jumbotron\"\nimport Container from \"../../components/Container\";\nimport Book from \"../../components/Book\";\nimport Footer from \"../../components/Footer\";\nimport {BtnSubmit,BtnSave} from \"../../components/Button\"\nimport './style.css';\n\nconst MAXRESULTS = 30;\nclass SearchPage extends React.Component {\n    state = {\n        value: '',\n        toResults:false,\n        books:[],\n        results:[],\n        isCollapsed:false,\n        message:''\n    };\n\n    componentDidMount() {\n        this.setState({\n            toResults:false,\n        })\n        this.openBookshelf();\n    }\n\n    openBookshelf = () => {\n        API.getSavedBooks()\n        .then(res => {\n            this.setState({\n                books:res.data,\n            })\n            console.log('*** Successfully opened the bookshelf! ***');\n            console.log(this.state.books);\n        })\n        .catch((err) => console.log(err))\n    }\n\n    handleChange = event => {\n        this.setState({value: event.target.value});\n        console.log(this.state.value);\n    }\n\n    handleSubmit = () => {\n        this.setState({\n            toResults: true\n        })\n        console.log('Input keyword:' + this.state.value);\n\n        axios.get(\"https://www.googleapis.com/books/v1/volumes?q=\" + this.state.value + '&maxResults=' + MAXRESULTS)\n        .then(res => {\n            if(!res.data.items){\n                this.setState({\n                    results: [],\n                    message: \"No Books Found...Try something else.\"\n                })\n            }\n            else{\n                var validBooks = res.data.items.filter( result =>\n                    result.id &&\n                    result.volumeInfo.title &&\n                    result.volumeInfo.authors &&\n                    result.volumeInfo.categories &&\n                    result.volumeInfo.publisher &&\n                    result.volumeInfo.publishedDate &&\n                    result.volumeInfo.imageLinks &&\n                    result.volumeInfo.imageLinks.thumbnail &&\n                    result.volumeInfo.infoLink &&\n                    result.volumeInfo.description &&\n                    result.volumeInfo.previewLink\n                )        \n                this.setState({\n                    results: validBooks,\n                    message:''\n                })          \n            }\n            console.log('*** Search Results: ***');\n            console.log(this.state.results);\n        })\n        .catch(() =>\n            this.setState({\n                results: [],\n                message: 'Please enter some key words.'\n            })\n        );\n    }\n\n    handleBookSave = (id) => {\n        //If the book is not saved, save the book:\n        if(!this.checkSave(id)){\n            this.saveBook(id);\n        }\n        //If the is saved, delete the book;\n        else{\n            this.deleteBook(id);\n        }\n    };\n\n    handleKeyPress = (event) => {\n        if(event.key === 'Enter'){\n            this.handleSubmit();\n            console.log('enter press here! ')\n        }\n    }\n\n    saveBook = (id) => {\n        alert(\"Saving book to bookshelf……\");\n        const book = this.state.results.find(book => book.id === id);\n        const bookData = {\n            googleId:book.id,\n            title:book.volumeInfo.title,\n            authors:book.volumeInfo.authors,\n            categories:book.volumeInfo.categories,\n            publisher:book.volumeInfo.publisher,\n            publishedDate:book.volumeInfo.publishedDate,\n            image:book.volumeInfo.imageLinks.thumbnail,\n            description:book.volumeInfo.description, \n            link:book.volumeInfo.previewLink\n        };           \n        API.saveBook(bookData)\n        .then(() => {\n            console.log(\"Successfully saved!\");\n            this.openBookshelf();\n        })\n        .catch(() => alert('Book already exists!'))\n    }\n\n    deleteBook = () => {\n        alert('Go to your bookshelf to delete!')\n        this.props.history.push('/saved');\n    }\n\n    checkSave = (id) => {\n        var tem = false;\n        this.state.books.forEach(book => {\n            if(book.googleId === id){\n                tem = true;\n            }\n        })\n        return tem;\n    }\n\n    render() {\n        return(\n            <div>\n                <Nav />\n                <br />\n                <Container header={'SEARCH'}  icon='search'>\n                    {/* <h4 style={{fontWeight:'bold'}}>BOOK SEARCH</h4> */}\n                    <div className=\"input-group my-3\">\n                        <input type=\"text\" className=\"form-control title\" placeholder=\"\" aria-label=\"Book's Keyword\" aria-describedby=\"button-addon2\" onChange={this.handleChange} onKeyPress={this.handleKeyPress}></input>\n                        <div className=\"input-group-append\">\n                            <BtnSubmit type=\"button\" id=\"button-addon2\" onClick={this.handleSubmit}>SEARCH</BtnSubmit>\n                        </div>\n                    </div>\n                </Container>\n                <br />\n                    {this.state.toResults ? <Container header='SEARCH RESULTS'>\n                    {this.state.results.map(book => \n                        <Book \n                        key={book.id} \n                        googleId={book.id} \n                        title={book.volumeInfo.title} \n                        authors={book.volumeInfo.authors}\n                        categories={book.volumeInfo.categories} \n                        publisher={book.volumeInfo.publisher}\n                        publishedDate={book.volumeInfo.publishedDate} \n                        image={book.volumeInfo.imageLinks.thumbnail} \n                        description={book.volumeInfo.description}  \n                        link={book.volumeInfo.previewLink} \n                        isCollapsed={this.state.isCollapsed}\n                        target=\"_blank\"\n                        Buttonaaa={()=>(\n                            <BtnSave onClick={() => this.handleBookSave(book.id)} isSaved = {this.checkSave(book.id)}></BtnSave>\n                        )}\n                        />\n                    )}\n                    <h5 className=\"text-center\">{this.state.message}</h5>\n                    </Container> : <br />}\n                    <br /><br /><br /><br />\n                    <Footer />\n            </div>\n        )\n    }\n};\n\nexport default SearchPage;\n\n"]},"metadata":{},"sourceType":"module"}